(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{538:function(e,t,o){"use strict";var r=o(3),n=o(323).trim;r({target:"String",proto:!0,forced:o(539)("trim")},{trim:function(){return n(this)}})},539:function(e,t,o){"use strict";var r=o(112).PROPER,n=o(4),l=o(324);e.exports=function(e){return n((function(){return!!l[e]()||"​᠎"!=="​᠎"[e]()||r&&l[e].name!==e}))}},610:function(e,t,o){var content=o(643);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(19).default)("555ab892",content,!0,{sourceMap:!1})},639:function(e,t,o){e.exports=o.p+"img/flycare.8c2f0cf.png"},640:function(e,t,o){e.exports=o.p+"img/flykey.967fb74.png"},641:function(e,t,o){e.exports=o.p+"img/npsc.21cf705.png"},642:function(e,t,o){"use strict";o(610)},643:function(e,t,o){var r=o(18),n=o(111),l=o(329),c=r((function(i){return i[1]})),d=n(l);c.push([e.i,".background[data-v-7d15566e]{background-image:url("+d+");background-position:50%;background-repeat:no-repeat;background-size:cover;min-height:100vh;position:relative}.login-title-wrapper[data-v-7d15566e]{display:none}@media (min-width:768px){.login-title-wrapper[data-v-7d15566e]{display:block}}.welcome[data-v-7d15566e]{color:#fff}.login-form__header[data-v-7d15566e]{background-color:#283041;border-top-left-radius:5px;border-top-right-radius:5px;color:#fff;font-size:18px;padding:10px 20px}.login-form__body[data-v-7d15566e]{background:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:20px}.login-form__body .website-icon[data-v-7d15566e]{background-color:#297be2;border-radius:50%;cursor:pointer;display:inline-block;line-height:40px;padding:0 10px;transition:background-color .3s}.login-form__body .website-icon>a>img[data-v-7d15566e]{height:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:20px}.login-form__body .website-icon[data-v-7d15566e]:hover{background-color:#1a5fbb}.login-footer[data-v-7d15566e]{background:#f8f9fb;bottom:0;padding:10px 0;position:fixed;width:100%;z-index:2}@media (min-width:768px){.login-footer[data-v-7d15566e]{padding:20px 0}}",""]),c.locals={},e.exports=c},718:function(e,t,o){"use strict";o.r(t);o(538);var r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 text-center"},[t("div",{staticClass:"mb-3"},[t("a",{attrs:{href:"https://www.newlandnpt.com/",target:"_blank"}},[t("img",{staticClass:"mr-2",attrs:{src:o(326),alt:""}})]),e._v(" "),t("a",{attrs:{href:"https://www.linkedin.cn/injobs",target:"_blank"}},[t("img",{staticClass:"mr-2",attrs:{src:o(327),alt:""}})]),e._v(" "),t("a",{attrs:{href:"https://www.youtube.com/channel/UCrvhI9uCspr2H1otSvNpxvg",target:"_blank"}},[t("img",{attrs:{src:o(328),alt:""}})])]),e._v(" "),t("p",{staticClass:"text-gray text-xs"},[e._v("\n            Copyright 2021 Newland Payment Technology(newlandnpt.com). All\n            rights reserved. ICP 15018196-2\n          ")])])])])}],n=(o(46),o(56),o(88),o(89),o(47),o(15)),l=o(2);o(55),o(69),o(23),o(59),o(70),o(57),o(16),o(29),o(31),o(39),o(40);function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var m=null,f={data:function(){var e=this;return{VUE_APP_PUBKEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkkApKkKERcT8C9pkcH7F2YxOyK8veLXqLm06iY+XlTuvSFCxC3Fe7AudJ01nj8BAXiI947/OTEHsbX8hQUIitJl1A/AFYiiqzd+ZzsQNPDrtXUMIGMFDa2KpYzSOCwLimZ4NHShXpynEjyer5jz55iL8LjwqBiPcHeg7IfA1Itfm4moONjaCBzMCtNw+5En6i4cS0f2Tilxh+8LLnryqThJiom64Yvu9NtLJLAYr5eGxQ6ng679AaD0nckXGOiy4HqgNA3LTGfq45L4wrCbLR2UcqPba9HJ90zamXz7elrgwFy1ShLCyLQ9+SjxGKKQpdxeqLvpttX+UY/+O4S8j2wIDAQAB",VUE_APP_EMAIL:"1",VUE_APP_NEWLAND_INFO:"1",VUE_APP_CAPTCHA:"1",VUE_APP_SIGN_UP:"1",VUE_APP_FLYKEY_ADDRESS:"https://flycare.newlandnpt.com/operator/#/",signUpDialogVisible:!1,OTPDialogVisible:!1,forgetOtp:!1,resetPasswordDialogVisible:!1,loginForm:{username:"",password:"",code:"",checked:!1,otpToken:""},loginRules:{username:[{required:!0,trigger:"manual",validator:function(t,o,r){o?o.length<1?r(new Error(e.$t("login.validate_username_less5_tip"))):r():r(new Error(e.$t("login.validate_username_required_tip")))}}],password:[{required:!0,trigger:"manual",validator:function(t,o,r){o?o.length<6||o.length>18?r(new Error(e.$t("login.validate_password6_tip"))):r():r(new Error(e.$t("login.validate_password6_tip")))}}],code:[{required:!0,trigger:"manual",validator:function(t,o,r){o?o.length<5?r(new Error(e.$t("login.validate_code_less5_tip"))):r():r(new Error(e.$t("login.validate_code_required")))}}],otpToken:[{required:!0,trigger:"manual",validator:function(t,o,r){o?r():r(new Error(e.$t("login.validate_otp_required")))}}]},loading:!1,passwordType:"password",redirect:void 0,captchaLoading:!1,invalidMessage:"",usernamePopover:!1,codePopover:!1,passwordPopover:!1,checkedPopover:!1,otpTokenPopover:!1,OTP:!1,showFlag:!1,showCaptcha:!1,captchaImgSrc:"",errorMsg:""}},methods:{forgetOtpHandle:function(){this.forgetOtp=!0,this.OTPDialogVisible=!0},onSetOtpcode:function(e){this.forgetOtp=!1,e&&(this.OTP=!0)},fillEmail:function(e){this.loginForm.username=e},getCaptcha:function(){if("1"==this.VUE_APP_CAPTCHA){this.captchaImgSrc="/online/authorization/auth/captcha?time="+(new Date).getTime()+"&username="+this.loginForm.username;var e=this,t=new XMLHttpRequest;t.responseType="blob",t.open("get",this.captchaImgSrc,!0),t.onreadystatechange=function(o){if(t.readyState==XMLHttpRequest.DONE&&200==t.status){var r=new FileReader;r.readAsText(t.response),r.onload=function(t){r.result;var o=JSON.parse(r.result);"1096"===o.code?(e.showCaptcha=!0,e.OTP=!0):(e.showCaptcha=!0,e.OTP=!1,e.$nextTick((function(){e.$refs.img.src=o.captcha})))}}else if(t.readyState==XMLHttpRequest.DONE){console.log(t);var n=new FileReader;n.readAsText(t.response),n.onload=function(t){var o=JSON.parse(n.result);e.errorMsg=o.message}}},t.send(null)}},encryptPassword:function(e){var t=new m,o=this.VUE_APP_PUBKEY;return t.setPublicKey(o),t.encrypt(e)},startSignUp:function(){this.signUpDialogVisible=!0},resetPassword:function(){this.resetPasswordDialogVisible=!0},handleBlur:function(){this.loginForm.username?this.getCaptcha():this.loginForm.username||(this.showCaptcha=!1)},validate:function(e,t,o){this.showFlag||(this.showFlag=!t,this[e+"Popover"]=!t,t||(this.invalidMessage=o))},hidePopovers:function(){this.checkedPopover=this.codePopover=this.passwordPopover=this.usernamePopover=this.otpTokenPopover=!1},handleLogin:function(){var e=this;this.showFlag=!1,this.hidePopovers(),this.$refs.loginForm.validate(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(o){var r,n,l,c,m,f,i,v,h,_,w,P,x,y,k,C,sub,O,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=57;break}for(e.loading=!0,t.prev=2,f="",i=0;i<6;i++)f+=Math.floor(10*Math.random());return t.next=7,e.$store.dispatch("getTimeStamp");case 7:return v=t.sent,h=v.timestamp,_=JSON.stringify({random:f,timestamp:h,password:e.loginForm.password}),w=e.encryptPassword(_),t.next=13,e.$store.dispatch("login",d(d({},e.loginForm),{},{password:w}));case 13:P=t.sent,r=P.characterCode,n=P.characterStatus,m=P.platformInfoList,l=P.token,c=P.needPasswdChange,t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(2),t.t0&&"1097"===t.t0.code?(e.getCaptcha(),e.OTPDialogVisible=!0,e.errorMsg=t.t0.message):t.t0&&"1096"===t.t0.code?(e.errorMsg=t.t0.message,e.showCaptcha=!0,e.OTP=!0):(e.getCaptcha(),e.errorMsg=t.t0.message),t.abrupt("return");case 25:return t.prev=25,e.loading=!1,t.finish(25);case 28:if((x=new Date).setTime(x.getTime()+72e5),y="TOMS_TOKEN",k=document.location.host,C="",/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/.test(k)?C=k:(sub=k.split(".")[0],C=k.slice(sub.length)),!n||1===n){t.next=38;break}2===n||5===n||7===n?e.$router.push("/account-status?token=".concat(l,"&characterCode=").concat(r)):3===n&&("DEV"===r?e.$router.push("/resubmit-form-dev?token=".concat(l)):e.$router.push("/resubmit-form?token=".concat(l))),t.next=55;break;case 38:document.cookie="".concat(y,"=").concat(l,";path=/;domain=").concat(C,";expires=").concat(x.toGMTString(),'"'),x.setTime(x.getTime()+2592e6),document.cookie="lang=".concat(e.$store.state.locale,";path=/;domain=").concat(C,";expires=").concat(x.toGMTString(),'"'),O="",t.t1=r,t.next="OPERATOR"===t.t1?45:"DEV"===t.t1?48:"MANUFACTURER"===t.t1?50:"ADMIN"===t.t1?52:54;break;case 45:return(A=m.map((function(e){return e.platCode}))).includes("TOMS")?O=document.location.origin+"/operator/#/":A.includes("FLYCARE")&&(O="https://flycare"+C),t.abrupt("break",54);case 48:return O=document.location.origin+"/developer/#/",t.abrupt("break",54);case 50:return O=document.location.origin+"/vendor/#/",t.abrupt("break",54);case 52:return O=document.location.origin+"/admin/#/",t.abrupt("break",54);case 54:1==c?(window.open("/change-password"),e.loginForm.code="",e.loginForm.password="",e.getCaptcha()):window.location.href=O;case 55:t.next=58;break;case 57:return t.abrupt("return",!1);case 58:case"end":return t.stop()}}),t,null,[[2,21,25,28]])})));return function(e){return t.apply(this,arguments)}}())}},mounted:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(0).then(o.bind(null,725));case 2:r=t.sent,n=r.default,m=n,e.$store.commit("SET_MENU",!1);case 6:case"end":return t.stop()}}),t)})))()}},v=f,h=(o(642),o(9)),component=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"background"},[t("NavBar"),e._v(" "),t("div",{staticClass:"container container-fluid"},[t("div",{staticClass:"row login items-center mb-10",staticStyle:{"padding-top":"40px","padding-bottom":"130px"}},[t("div",{staticClass:"col-6 col-lg-7 col-xl-8 login-title-wrapper"},[t("h1",{staticClass:"text-white mb-3"},[e._v(e._s(e.$t("login.welcome")))]),e._v(" "),t("p",{staticClass:"text-white text-2xl lg:text-3xl"},[e._v(e._s(e.$t("login.slogan")))])]),e._v(" "),t("div",{staticClass:"col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4 offset-md-0"},[t("div",{staticClass:"login-form"},[t("div",{staticClass:"login-form__header"},[e._v(e._s(e.$t("login.sign_in")))]),e._v(" "),t("div",{staticClass:"login-form__body"},[t("p",{staticClass:"text-xs text-gray text-center mb-4"},[e._v(e._s(e.$t("login.sign_in_tip")))]),e._v(" "),t("el-form",{ref:"loginForm",staticClass:"small",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","show-message":!1},on:{validate:e.validate},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-popover",{attrs:{trigger:"manual",placement:"top"},model:{value:e.usernamePopover,callback:function(t){e.usernamePopover=t},expression:"usernamePopover"}},[t("i",{staticClass:"el-icon-warning text-yellow-500"}),e._v("\n                  "+e._s(e.invalidMessage)+"\n                  "),t("el-input",{ref:"username",attrs:{slot:"reference",placeholder:e.$t("login.account_email_placeholder"),tabindex:"1","auto-complete":"on","prefix-icon":"el-icon-user"},on:{focus:e.hidePopovers,change:e.handleBlur},slot:"reference",model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"==typeof t?t.trim():t)},expression:"loginForm.username"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-popover",{attrs:{trigger:"manual",placement:"top"},model:{value:e.passwordPopover,callback:function(t){e.passwordPopover=t},expression:"passwordPopover"}},[t("i",{staticClass:"el-icon-warning text-yellow-500"}),e._v("\n                  "+e._s(e.invalidMessage)+"\n                  "),t("el-input",{attrs:{slot:"reference",placeholder:e.$t("login.password"),type:"password",tabindex:"2","auto-complete":"on","prefix-icon":"el-icon-lock"},on:{focus:e.hidePopovers},slot:"reference",model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),e._v(" "),"1"==e.VUE_APP_CAPTCHA&&e.showCaptcha&&!e.OTP?t("el-form-item",{attrs:{prop:"code"}},[t("el-row",{staticClass:"items-center",attrs:{gutter:20,type:"flex"}},[t("el-col",{attrs:{span:14}},[t("el-popover",{attrs:{trigger:"manual",placement:"top"},model:{value:e.codePopover,callback:function(t){e.codePopover=t},expression:"codePopover"}},[t("i",{staticClass:"el-icon-warning text-yellow-500"}),e._v("\n                      "+e._s(e.invalidMessage)+"\n                      "),t("el-input",{attrs:{slot:"reference",tabindex:"3",maxlength:"5",placeholder:e.$t("login.captcha")},on:{focus:e.hidePopovers},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},slot:"reference",model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code","string"==typeof t?t.trim():t)},expression:"loginForm.code"}})],1)],1),e._v(" "),t("el-col",{staticClass:"login-captcha",attrs:{span:10}},[t("button",[t("img",{ref:"img",staticStyle:{height:"30px"},attrs:{alt:""},on:{click:e.getCaptcha}})])])],1)],1):e._e(),e._v(" "),"1"==e.VUE_APP_CAPTCHA&&e.showCaptcha&&e.OTP?t("el-form-item",{attrs:{prop:"otpToken"}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"auto"}},[t("el-popover",{attrs:{trigger:"manual",placement:"top"},model:{value:e.otpTokenPopover,callback:function(t){e.otpTokenPopover=t},expression:"otpTokenPopover"}},[t("i",{staticClass:"el-icon-warning text-yellow-500"}),e._v("\n                  "+e._s(e.invalidMessage)+"\n                  "),t("el-input",{attrs:{slot:"reference",tabindex:"4","prefix-icon":"el-icon-mobile-phone",placeholder:e.$t("One-Time Password")},on:{focus:e.hidePopovers},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},slot:"reference",model:{value:e.loginForm.otpToken,callback:function(t){e.$set(e.loginForm,"otpToken","string"==typeof t?t.trim():t)},expression:"loginForm.otpToken"}})],1)],1),e._v(" "),t("div",{staticStyle:{flex:"none",width:"44px"}},[t("el-tooltip",{attrs:{content:"Lost OTP",placement:"top","open-delay":"300"}},[t("div",{staticClass:"hover:bg-gray-100 text-center mx-2 cursor-pointer",staticStyle:{"border-radius":"4px",width:"32px","line-height":"32px"},on:{click:e.forgetOtpHandle}},[t("i",{staticClass:"el-icon-refresh-right"})])])],1)])]):e._e(),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"w-full",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v(e._s(e.$t("common.sign_in")))]),e._v(" "),t("div",{staticClass:"el-form-item__error text-center"},[e._v(e._s(e.errorMsg))])],1)],1),e._v(" "),"1"==e.VUE_APP_EMAIL?t("div",{staticClass:"text-center mt-6"},["1"==e.VUE_APP_SIGN_UP?t("p",{staticClass:"text-gray text-xs text-center mb-3"},[e._v("\n                "+e._s(e.$t("login.donnot_have_account"))+"\n                "),t("a",{staticClass:"link",on:{click:function(t){return t.preventDefault(),e.startSignUp.apply(null,arguments)}}},[t("span",[e._v(e._s(e.$t("login.sign_up")))])])]):e._e(),e._v(" "),t("div",{staticClass:"text-center"},[t("a",{staticClass:"text-xs link",on:{click:function(t){return t.preventDefault(),e.resetPassword.apply(null,arguments)}}},[e._v("\n                  "+e._s(e.$t("login.forgot_password"))+"\n                ")])])]):e._e(),e._v(" "),"1"==e.VUE_APP_EMAIL&&"1"==e.VUE_APP_NEWLAND_INFO?t("hr",{staticClass:"my-3"}):e._e(),e._v(" "),"1"==e.VUE_APP_NEWLAND_INFO?t("div",{staticClass:"text-center mt-6"},[t("el-tooltip",{attrs:{effect:"dark",content:"FlyCare",placement:"bottom"}},[t("div",{staticClass:"website-icon mr-10"},[t("a",{attrs:{href:e.VUE_APP_FLYKEY_ADDRESS}},[t("img",{attrs:{src:o(639),alt:""}})])])]),e._v(" "),t("el-tooltip",{attrs:{effect:"dark",content:"FlyKey",placement:"bottom"}},[t("div",{staticClass:"website-icon mr-10"},[t("a",{attrs:{href:"https://flykey.newlandpayment.com"}},[t("img",{attrs:{src:o(640),alt:""}})])])]),e._v(" "),t("el-tooltip",{attrs:{effect:"dark",content:"NPSC",placement:"bottom"}},[t("div",{staticClass:"website-icon"},[t("a",{attrs:{href:"https://npsc.newlandpayment.com/npsc"}},[t("img",{attrs:{src:o(641),alt:""}})])])])],1):e._e()],1)])])])]),e._v(" "),"1"==e.VUE_APP_NEWLAND_INFO?t("div",{staticClass:"login-footer"},[e._m(0)]):e._e(),e._v(" "),t("LazySignupDialog",{attrs:{visible:e.signUpDialogVisible,title:e.$t("login.sign_up")},on:{"update:visible":function(t){e.signUpDialogVisible=t},login:e.fillEmail}}),e._v(" "),t("LazyResetPasswordDialog",{attrs:{visible:e.resetPasswordDialogVisible,title:e.$t("login.title_reset_password")},on:{"update:visible":function(t){e.resetPasswordDialogVisible=t}}}),e._v(" "),t("LazyOTPDialog",{attrs:{visible:e.OTPDialogVisible,username:e.loginForm.username,"forget-otp":e.forgetOtp,title:e.$t("login.tofa")},on:{"update:visible":function(t){e.OTPDialogVisible=t},"set-otpcode":e.onSetOtpcode}})],1)}),r,!1,null,"7d15566e",null);t.default=component.exports;installComponents(component,{NavBar:o(211).default})}}]);